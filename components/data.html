<template id="data">
<!-- { { { { { { { { { { { { { { { {  CSS  } } } } } } } } } } } } } } } } } -->
<style>
content {
  font-size: 18px;
  font: Tahoma;
}
input {
  height: 25px;
  font-size: 15px;
  padding: 5px;
  width: 88%;
}
.input1 {
  width: 200px;
}

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  margin: auto;
  width: 90%;
  min-width: 925px;
}
td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}
tr:nth-child(even) {
  background-color: #dddddd;
}
h4 {
  display: inline-block;
  width: 200px;
  height: 100%;
  margin: 5px;
  padding: 6px;
  background-color: rgba(30,0,0,0.2);
}
h5 {
  margin: 0px;
  margin-right: -18px;
  font-size: 12px;
  max-width: 50px;
}
button {
  margin: 10px 0px 10px;
  width: 300px;
  height: 38px;
  font-size: 18px;
  border: 2px;
}
button:hover {
  background-color: rgba(150,20,20, 0.2);
}
#iAge, #iHome {
  width: 418px;
  margin-top: 2px;
  margin-left: 0.5px;
}
.eBut {
  width: 50px;
  margin-right: 0px;
  background-color: rgba(150,20,20, 0.4);
}
.eButS {
  width: 80px;
  background-color: rgba(150,20,20, 0.5);
}
.label-text {
  min-width: 110px;
}
.label-num {
  width: 50px;
}
.edit-col {
  text-align: center;
}
.show-col {
  width: 50px;
}
.input-num {
  width: 33px;
}
</style>
<!-- < < < < < < < < < < < < < < < <  html > > > > > > > > > > > > > > > > > -->
<content>
  <div>
    <h2>Create more ID cards by adding names and/or numbers</h2>
    <h4> Name: </h4>
    <input class='input1' id='iName' placeholder="first ..."/>
    <input class='input1' id='iLast' placeholder="last ..."/> <br>
    <h4> Height: </h4>
    <input class='input1' id='iFeet' placeholder="feet ..."/>
    <input class='input1' id='iInches' placeholder="inches ..."/> <br>
    <h4> Age: </h4>
    <input class='input1' id='iAge' placeholder="age ..."/> <br>
    <h4> Hometown: </h4>
    <input class='input1' id='iHome' placeholder="city of residence ..."/> <br>
    <button id='more'> Submit </button>
    <br><br>
    <table id='table' if='arr[0] !willPass' if='nest[idCards] nest.idCards[0].name nOT.pASS nest' >
    <!-- ^^^ use case for if array and placing ifs in row to mimick ORs. remove ! on !willPass and it won't show do to condition... -->
      <tr id='labels'>
        <th class="show-col"> Show </th>
        <th class='label-text'> Title </th>
        <th class='label-text'> First Name </th>
        <th class='label-text'> Last Name </th>
        <th class='label-num'> Age </th>
        <th class='label-num'> ft. </th>
        <th class='label-num'> in. </th>
        <th style='min-width: 200px;'> Residence </th>
      </tr>
      <tbody id='checkBoxes' for='idCard,i nest.idCards'>
        <tr key="i" >
          <td><input style='margin-left: 15px;' key="i" val="show"
              type="checkbox" checked="idCard.show">
          </td>
          <td><p if="!idCard.edit"> idCard.title </p>
            <input if="idCard.edit" placeholder="idCard.title" key="i" val="title">
          </td>
          <td><p if="!idCard.edit"> idCard.name </p>
            <input if="idCard.edit" placeholder="idCard.name" key="i" val="name">
          </td>
          <td><p if="!idCard.edit"> idCard.last </p>
            <input if="idCard.edit" placeholder="idCard.last" key="i" val="last">
          </td>
          <td><p if="!idCard.edit"> idCard.age </p>
            <input class="input-num" if="idCard.edit" placeholder="idCard.age" key="i" val="age">
          </td>
          <td><p if="!idCard.edit"> idCard.ft- ' </p>
            <input class="input-num" if="idCard.edit" placeholder='idCard.ft' key="i" val="ft">
          </td>
          <td><p if="!idCard.edit"> idCard.in- " </p>
            <input class="input-num" if="idCard.edit" placeholder='idCard.in' key="i" val="in">
          </td>
          <td><p if="!idCard.edit"> idCard.home </p>
            <input if="idCard.edit" placeholder="idCard.home" key="i" val="home">
          </td>
          <td class='edit-col'>
            <button if="!idCard.edit" key="i" val="edit" class='eBut'> Edit </button>
            <button if="idCard.edit" key="i" val="edit" class='eBut eButS'>
              Submit
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <p if='nest.idCards'> <em> * You can also hit </em><strong>[enter]</strong><em> to add </em> </p>
    <p if='!nest.idCards'> <em> ! No data Avilalbe ! </em><br> Fill out form to add Data  </p>
    <br>

    <div if='nest.editCard' var='n nest.editCard, x nest.idCards[1], y nest.idCards[1].last, z nest.idCards[1].age'>
      <div for='v,k,i nest.editCard'>
        <none indices='s1 e6'>  k- : <strong> v </strong> </none>
        <br indices='2 5'>
      </div>
      <strong>x.name y z n.show</strong>
    </div>

  </div>
</content>
</template>
<!-- () () () () () () () () () ()  JavaScript () () () () () () () () () () -->
<script>

(( c = new Component('data-tag') )=>{

  c.add = ()=>{
    _DATA.nest.idCards.push({
      title: 'ID Card ' + (_DATA.nest.idCards.length+1),
      name: c.I('iName').value,
      last: c.I('iLast').value,
      age: c.I('iAge').value,
      ft: c.I('iFeet').value,
      in: c.I('iInches').value,
      home: c.I('iHome').value,
      show: 'true'
    })
    c.I('iName').value = ''
    c.I('iLast').value = ''
    c.I('iAge').value = ''
    c.I('iFeet').value = ''
    c.I('iInches').value = ''
    c.I('iHome').value = ''
    c.I('iName').focus()
  }

  c._ADD_EVENT('click', 'checkBoxes', c.submitEdit = ([ key, val ] = c.KV(event))=>{
    let state = _DATA.nest.idCards[key][val]
    if (event.keyCode == 13) {
      val = "edit"
      state = 'true'
    }
    if (val === "edit") {
      if (state === 'true') {
        const tags = event.path[2].getElementsByTagName('input')
        for (var i = 0; i < tags.length; i++) {
          const val = tags[i].getAttribute('val')
          if (tags[i].value) {
            _DATA.nest.idCards[key][val] = tags[i].value
          }
        }
      }
      for (const card of _DATA.nest.idCards) delete(card[val])
      !state ? _DATA.nest.idCards[key][val] = 'true' : delete(state)
      _DATA.nest.editCard = _DATA.nest.idCards[key]
    }
    if (val === "show") {
      const checkBoxStatus = event.path[0].checked === true ? 'true' : 'false'
      _DATA.nest.idCards[key][val]= checkBoxStatus
    }
  }, true)

  c._ADD_EVENT('click', 'more', ()=>{
    c.add()
  }, true)

  c._ADD_EVENT('keypress', 'iHome', ()=>{
    if (event.keyCode == 13) c.add()
  }, true)

  c._ADD_EVENT('keypress', 'table', ()=>{
    if (event.keyCode == 13) c.submitEdit()
  }, true)

  c._NEW_ELM()
})()

</script>
<!--  / / / / / / / / / / / / / / /   Notes    / / / / / / / / / / / / / / / -->
